{"ast":null,"code":"import _slicedToArray from \"C:/Users/jhino/Desktop/codigo de prueba HHS/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { PrevButton, NextButton, PlayButton } from \"./carouselButtons\";\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { videoIndex, videoThumbnail, SwapDuration } from \"../../hooks/CarouselMedia\";\nimport { VideoModal } from './VideoModal';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nvar EmblaCarousel = function EmblaCarousel(_ref) {\n  var slides = _ref.slides;\n\n  var _useEmblaCarousel = useEmblaCarousel({\n    slidesToScroll: 2,\n    skipSnaps: false,\n    loop: true\n  }),\n      _useEmblaCarousel2 = _slicedToArray(_useEmblaCarousel, 2),\n      viewportRef = _useEmblaCarousel2[0],\n      embla = _useEmblaCarousel2[1];\n\n  var _useState = useState(false),\n      prevBtnEnabled = _useState[0],\n      setPrevBtnEnabled = _useState[1];\n\n  var _useState2 = useState(false),\n      nextBtnEnabled = _useState2[0],\n      setNextBtnEnabled = _useState2[1];\n\n  var defaultScrollState = true;\n\n  var _useState3 = useState(defaultScrollState),\n      scrolling = _useState3[0],\n      setScrollState = _useState3[1];\n\n  var scrollingRef = useRef(defaultScrollState);\n\n  var _useState4 = useState(\"\"),\n      modalVideoUrl = _useState4[0],\n      setModalUrl = _useState4[1];\n\n  var scrollingForward = true;\n  var interval = undefined;\n  var IntervalDuration = SwapDuration * 1000;\n\n  var _useState5 = useState(false),\n      videoModalOpen = _useState5[0],\n      showVideoModal = _useState5[1];\n\n  var scrollPrev = useCallback(function () {\n    return embla && embla.scrollPrev();\n  }, [embla]);\n  var scrollNext = useCallback(function () {\n    return embla && embla.scrollNext();\n  }, [embla]);\n  var onSelect = useCallback(function () {\n    if (!embla) return;\n    setPrevBtnEnabled(embla.canScrollPrev());\n    setNextBtnEnabled(embla.canScrollNext());\n  }, [embla]);\n\n  var ShowVideo = function ShowVideo(videoID) {\n    setModalUrl(videoID);\n    setScrollState(false);\n    showVideoModal(function (prev) {\n      return !prev;\n    });\n  };\n\n  var setModalVisibility = function setModalVisibility(isOpen) {\n    showVideoModal(isOpen);\n    setScrollState(function (prev) {\n      return !prev;\n    });\n  };\n\n  useEffect(function () {\n    scrollingRef.current = scrolling;\n  });\n  useEffect(function () {\n    if (!embla) return;\n    embla.on(\"select\", onSelect);\n    onSelect();\n\n    if (interval == undefined) {\n      startInterval();\n      setScrollState(true);\n    }\n  }, [embla, onSelect]);\n\n  var startInterval = function startInterval() {\n    interval = setInterval(function () {\n      if (scrollingRef.current == true) {\n        if (scrollingForward == true) {\n          if (embla.canScrollNext()) scrollNext();else {\n            scrollingForward = false;\n            scrollPrev();\n          }\n        } else {\n          if (embla.canScrollPrev()) scrollPrev();else {\n            scrollingForward = true;\n            scrollNext();\n          }\n        }\n      }\n    }, IntervalDuration);\n  };\n\n  return ___EmotionJSX(\"div\", null, ___EmotionJSX(\"div\", {\n    className: \"embla\"\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__viewport\",\n    ref: viewportRef\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__container\"\n  }, slides.map(function (index) {\n    return ___EmotionJSX(\"div\", {\n      className: \"embla__slide\",\n      key: index\n    }, ___EmotionJSX(\"div\", {\n      className: \"embla__slide__inner\"\n    }, ___EmotionJSX(\"div\", {\n      className: \"video__carousel_slot\",\n      onClick: function onClick() {\n        ShowVideo(videoIndex(index).id);\n      }\n    }, ___EmotionJSX(\"img\", {\n      src: videoThumbnail(videoIndex(index).id)\n    }), ___EmotionJSX(\"p\", {\n      className: \"carousel_item_name\"\n    }, videoIndex(index).name), ___EmotionJSX(PlayButton, null))));\n  }))), ___EmotionJSX(PrevButton, {\n    onClick: scrollPrev,\n    enabled: prevBtnEnabled\n  }), ___EmotionJSX(NextButton, {\n    onClick: scrollNext,\n    enabled: nextBtnEnabled\n  })), ___EmotionJSX(VideoModal, {\n    showModal: videoModalOpen,\n    setShowModal: setModalVisibility,\n    videoID: modalVideoUrl\n  }));\n};\n\nexport default EmblaCarousel;","map":null,"metadata":{},"sourceType":"module"}