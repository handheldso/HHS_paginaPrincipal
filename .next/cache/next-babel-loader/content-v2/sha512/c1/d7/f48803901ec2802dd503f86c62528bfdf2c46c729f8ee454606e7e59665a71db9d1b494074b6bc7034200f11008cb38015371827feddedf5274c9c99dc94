{"ast":null,"code":"import _slicedToArray from \"C:/Users/jhino/OneDrive/Escritorio/HHS Codigo banners videos/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jhino\\\\OneDrive\\\\Escritorio\\\\HHS Codigo banners videos\\\\components\\\\layout\\\\VideoCarousel.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { PrevButton, NextButton, PlayButton } from \"./carouselButtons\";\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { videoIndex, videoThumbnail } from \"../../hooks/CarouselMedia\";\nimport { VideoModal } from './VideoModal';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nvar EmblaCarousel = function EmblaCarousel(_ref) {\n  _s();\n\n  var slides = _ref.slides;\n\n  var _useEmblaCarousel = useEmblaCarousel({\n    slidesToScroll: 2,\n    skipSnaps: false,\n    loop: true\n  }),\n      _useEmblaCarousel2 = _slicedToArray(_useEmblaCarousel, 2),\n      viewportRef = _useEmblaCarousel2[0],\n      embla = _useEmblaCarousel2[1];\n\n  var _useState = useState(false),\n      prevBtnEnabled = _useState[0],\n      setPrevBtnEnabled = _useState[1];\n\n  var _useState2 = useState(false),\n      nextBtnEnabled = _useState2[0],\n      setNextBtnEnabled = _useState2[1];\n\n  var defaultScrollState = true;\n\n  var _useState3 = useState(defaultScrollState),\n      scrolling = _useState3[0],\n      setScrollState = _useState3[1];\n\n  var scrollingRef = useRef(defaultScrollState);\n\n  var _useState4 = useState(\"\"),\n      modalVideoUrl = _useState4[0],\n      setModalUrl = _useState4[1];\n\n  var scrollingForward = true;\n  var interval = undefined;\n\n  var _useState5 = useState(false),\n      videoModalOpen = _useState5[0],\n      showVideoModal = _useState5[1];\n\n  var scrollPrev = useCallback(function () {\n    return embla && embla.scrollPrev();\n  }, [embla]);\n  var scrollNext = useCallback(function () {\n    return embla && embla.scrollNext();\n  }, [embla]);\n  var onSelect = useCallback(function () {\n    if (!embla) return;\n    setPrevBtnEnabled(embla.canScrollPrev());\n    setNextBtnEnabled(embla.canScrollNext());\n  }, [embla]);\n\n  var ShowVideo = function ShowVideo(videoID) {\n    setModalUrl(videoID);\n    setScrollState(false);\n    showVideoModal(function (prev) {\n      return !prev;\n    });\n  };\n\n  var setModalVisibility = function setModalVisibility(isOpen) {\n    showVideoModal(isOpen);\n    setScrollState(function (prev) {\n      return !prev;\n    });\n  };\n\n  useEffect(function () {\n    scrollingRef.current = scrolling;\n  });\n  useEffect(function () {\n    if (!embla) return;\n    embla.on(\"select\", onSelect);\n    onSelect();\n\n    if (interval == undefined) {\n      startInterval();\n      setScrollState(true);\n    }\n  }, [embla, onSelect]);\n\n  var startInterval = function startInterval() {\n    interval = setInterval(function () {\n      if (scrollingRef.current == true) {\n        if (scrollingForward == true) {\n          if (embla.canScrollNext()) scrollNext();else {\n            scrollingForward = false;\n            scrollPrev();\n          }\n        } else {\n          if (embla.canScrollPrev()) scrollPrev();else {\n            scrollingForward = true;\n            scrollNext();\n          }\n        }\n      }\n    }, 3000);\n  };\n\n  return ___EmotionJSX(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__viewport\",\n    ref: viewportRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, slides.map(function (index) {\n    return ___EmotionJSX(\"div\", {\n      className: \"embla__slide\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 14\n      }\n    }, ___EmotionJSX(\"div\", {\n      className: \"embla__slide__inner\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, ___EmotionJSX(\"div\", {\n      className: \"video__carousel_slot\",\n      onClick: function onClick() {\n        ShowVideo(videoIndex(index));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, ___EmotionJSX(\"img\", {\n      src: videoThumbnail(videoIndex(index)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }), ___EmotionJSX(PlayButton, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }))));\n  }))), ___EmotionJSX(PrevButton, {\n    onClick: scrollPrev,\n    enabled: prevBtnEnabled,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), ___EmotionJSX(NextButton, {\n    onClick: scrollNext,\n    enabled: nextBtnEnabled,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })), ___EmotionJSX(VideoModal, {\n    showModal: videoModalOpen,\n    setShowModal: setModalVisibility,\n    videoID: modalVideoUrl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }));\n};\n\n_s(EmblaCarousel, \"awWu9s18+J9LR9Nts3SvEGTwZ9E=\", false, function () {\n  return [useEmblaCarousel];\n});\n\n_c = EmblaCarousel;\nexport default EmblaCarousel;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmblaCarousel\");","map":{"version":3,"sources":["C:/Users/jhino/OneDrive/Escritorio/HHS Codigo banners videos/components/layout/VideoCarousel.js"],"names":["React","useState","useEffect","useCallback","useRef","PrevButton","NextButton","PlayButton","useEmblaCarousel","videoIndex","videoThumbnail","VideoModal","EmblaCarousel","slides","slidesToScroll","skipSnaps","loop","viewportRef","embla","prevBtnEnabled","setPrevBtnEnabled","nextBtnEnabled","setNextBtnEnabled","defaultScrollState","scrolling","setScrollState","scrollingRef","modalVideoUrl","setModalUrl","scrollingForward","interval","undefined","videoModalOpen","showVideoModal","scrollPrev","scrollNext","onSelect","canScrollPrev","canScrollNext","ShowVideo","videoID","prev","setModalVisibility","isOpen","current","on","startInterval","setInterval","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback,useRef } from \"react\";\r\nimport { PrevButton, NextButton, PlayButton } from \"./carouselButtons\";\r\nimport useEmblaCarousel from \"embla-carousel-react\";\r\nimport { videoIndex, videoThumbnail } from \"../../hooks/CarouselMedia\";\r\nimport { VideoModal } from './VideoModal';\r\n\r\nconst EmblaCarousel = ({slides}) =>{\r\n\r\n const [viewportRef, embla] = useEmblaCarousel({\r\n    slidesToScroll: 2,\r\n    skipSnaps: false,\r\n    loop:true\r\n  });\r\n  const [prevBtnEnabled, setPrevBtnEnabled] = useState(false);\r\n  const [nextBtnEnabled, setNextBtnEnabled] = useState(false);\r\n\r\n  const defaultScrollState = true;\r\n  const [scrolling,setScrollState] = useState(defaultScrollState);\r\n  const scrollingRef = useRef(defaultScrollState);\r\n\r\n  const[modalVideoUrl,setModalUrl] = useState(\"\");\r\n\r\n  let scrollingForward = true;\r\n  let interval = undefined;\r\n\r\n  const [videoModalOpen,showVideoModal] = useState(false);\r\n  \r\n  const scrollPrev = useCallback(() => embla && embla.scrollPrev(), [embla]);\r\n  const scrollNext = useCallback(() => embla && embla.scrollNext(), [embla]);\r\n  \r\n  const onSelect = useCallback(() => {\r\n    if (!embla) return;\r\n    setPrevBtnEnabled(embla.canScrollPrev());\r\n    setNextBtnEnabled(embla.canScrollNext());\r\n  }, [embla]);\r\n\r\n\r\n  const ShowVideo = (videoID)=>{\r\n      setModalUrl(videoID);\r\n      setScrollState(false);\r\n      showVideoModal(prev=>!prev);\r\n  }\r\n\r\n  const setModalVisibility = (isOpen)=>{\r\n    showVideoModal(isOpen);\r\n    setScrollState(prev=>!prev);\r\n  }\r\n\r\n  useEffect(()=>{\r\n      scrollingRef.current = scrolling;\r\n  });\r\n  \r\n  useEffect(() => {\r\n    if (!embla) return;\r\n\r\n    embla.on(\"select\", onSelect);\r\n    onSelect();\r\n    if(interval == undefined){\r\n        startInterval();\r\n        setScrollState(true);\r\n    }\r\n    \r\n  }, [embla, onSelect]);\r\n\r\n    const startInterval = ()=>{\r\n        interval = setInterval(()=>{\r\n\r\n            if(scrollingRef.current == true){\r\n                if( scrollingForward == true){\r\n\r\n                    if(embla.canScrollNext())\r\n                        scrollNext();\r\n                    else{\r\n                        scrollingForward = false;\r\n                        scrollPrev();\r\n                    }\r\n                }\r\n                else{\r\n                    if(embla.canScrollPrev())\r\n                        scrollPrev();\r\n                    else{\r\n                        scrollingForward = true;\r\n                        scrollNext();\r\n                    }\r\n                }\r\n            }\r\n        },3000);\r\n    };\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n\r\n        <div className=\"embla\">\r\n        <div className=\"embla__viewport\" ref={viewportRef}>\r\n            <div className=\"embla__container\">\r\n            {slides.map((index) => \r\n            (<div className=\"embla__slide\" key={index}>\r\n                <div className=\"embla__slide__inner\">\r\n                    \r\n                <div className=\"video__carousel_slot\" onClick={()=>{ShowVideo(videoIndex(index));}}>\r\n                    <img src={videoThumbnail(videoIndex(index))}/>\r\n                    <PlayButton/>\r\n                </div>\r\n\r\n                </div>\r\n                </div>\r\n            )\r\n            )}\r\n            </div>\r\n        </div>\r\n        <PrevButton onClick={scrollPrev} enabled={prevBtnEnabled} />\r\n            <NextButton onClick={scrollNext} enabled={nextBtnEnabled} />\r\n        </div>\r\n\r\n        <VideoModal showModal={videoModalOpen} setShowModal={setModalVisibility} videoID={modalVideoUrl} />\r\n\t\t</div>\r\n        \r\n  );\r\n};\r\n\r\nexport default EmblaCarousel;"]},"metadata":{},"sourceType":"module"}