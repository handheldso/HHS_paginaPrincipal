{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jhino\\\\Desktop\\\\codigo de prueba HHS\\\\components\\\\layout\\\\VideoCarousel.js\";\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { PrevButton, NextButton, PlayButton } from \"./carouselButtons\";\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { videoIndex, videoThumbnail, SwapDuration } from \"../../hooks/CarouselMedia\";\nimport { VideoModal } from './VideoModal';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst EmblaCarousel = ({\n  slides\n}) => {\n  const [viewportRef, embla] = useEmblaCarousel({\n    slidesToScroll: 2,\n    skipSnaps: false,\n    loop: true\n  });\n  const {\n    0: prevBtnEnabled,\n    1: setPrevBtnEnabled\n  } = useState(false);\n  const {\n    0: nextBtnEnabled,\n    1: setNextBtnEnabled\n  } = useState(false);\n  const defaultScrollState = true;\n  const {\n    0: scrolling,\n    1: setScrollState\n  } = useState(defaultScrollState);\n  const scrollingRef = useRef(defaultScrollState);\n  const {\n    0: modalVideoUrl,\n    1: setModalUrl\n  } = useState(\"\");\n  let scrollingForward = true;\n  let interval = undefined;\n  const IntervalDuration = SwapDuration * 1000;\n  const {\n    0: videoModalOpen,\n    1: showVideoModal\n  } = useState(false);\n  const scrollPrev = useCallback(() => embla && embla.scrollPrev(), [embla]);\n  const scrollNext = useCallback(() => embla && embla.scrollNext(), [embla]);\n  const onSelect = useCallback(() => {\n    if (!embla) return;\n    setPrevBtnEnabled(embla.canScrollPrev());\n    setNextBtnEnabled(embla.canScrollNext());\n  }, [embla]);\n\n  const ShowVideo = videoID => {\n    setModalUrl(videoID);\n    setScrollState(false);\n    showVideoModal(prev => !prev);\n  };\n\n  const setModalVisibility = isOpen => {\n    showVideoModal(isOpen);\n    setScrollState(prev => !prev);\n  };\n\n  useEffect(() => {\n    scrollingRef.current = scrolling;\n  });\n  useEffect(() => {\n    if (!embla) return;\n    embla.on(\"select\", onSelect);\n    onSelect();\n\n    if (interval == undefined) {\n      startInterval();\n      setScrollState(true);\n    }\n  }, [embla, onSelect]);\n\n  const startInterval = () => {\n    interval = setInterval(() => {\n      if (scrollingRef.current == true) {\n        if (scrollingForward == true) {\n          if (embla.canScrollNext()) scrollNext();else {\n            scrollingForward = false;\n            scrollPrev();\n          }\n        } else {\n          if (embla.canScrollPrev()) scrollPrev();else {\n            scrollingForward = true;\n            scrollNext();\n          }\n        }\n      }\n    }, IntervalDuration);\n  };\n\n  return ___EmotionJSX(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__viewport\",\n    ref: viewportRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, slides.map(index => ___EmotionJSX(\"div\", {\n    className: \"embla__slide\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 14\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"embla__slide__inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, ___EmotionJSX(\"div\", {\n    className: \"video__carousel_slot\",\n    onClick: () => {\n      ShowVideo(videoIndex(index).id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, ___EmotionJSX(\"img\", {\n    src: videoThumbnail(videoIndex(index).id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), ___EmotionJSX(\"p\", {\n    className: \"carousel_item_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, videoIndex(index).name), ___EmotionJSX(PlayButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }))))))), ___EmotionJSX(PrevButton, {\n    onClick: scrollPrev,\n    enabled: prevBtnEnabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), ___EmotionJSX(NextButton, {\n    onClick: scrollNext,\n    enabled: nextBtnEnabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })), ___EmotionJSX(VideoModal, {\n    showModal: videoModalOpen,\n    setShowModal: setModalVisibility,\n    videoID: modalVideoUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default EmblaCarousel;","map":{"version":3,"sources":["C:/Users/jhino/Desktop/codigo de prueba HHS/components/layout/VideoCarousel.js"],"names":["React","useState","useEffect","useCallback","useRef","PrevButton","NextButton","PlayButton","useEmblaCarousel","videoIndex","videoThumbnail","SwapDuration","VideoModal","EmblaCarousel","slides","viewportRef","embla","slidesToScroll","skipSnaps","loop","prevBtnEnabled","setPrevBtnEnabled","nextBtnEnabled","setNextBtnEnabled","defaultScrollState","scrolling","setScrollState","scrollingRef","modalVideoUrl","setModalUrl","scrollingForward","interval","undefined","IntervalDuration","videoModalOpen","showVideoModal","scrollPrev","scrollNext","onSelect","canScrollPrev","canScrollNext","ShowVideo","videoID","prev","setModalVisibility","isOpen","current","on","startInterval","setInterval","map","index","id","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback,useRef } from \"react\";\r\nimport { PrevButton, NextButton, PlayButton } from \"./carouselButtons\";\r\nimport useEmblaCarousel from \"embla-carousel-react\";\r\nimport { videoIndex, videoThumbnail,SwapDuration } from \"../../hooks/CarouselMedia\";\r\nimport { VideoModal } from './VideoModal';\r\n\r\nconst EmblaCarousel = ({slides}) =>{\r\n\r\n const [viewportRef, embla] = useEmblaCarousel({\r\n    slidesToScroll: 2,\r\n    skipSnaps: false,\r\n    loop:true\r\n  });\r\n  const [prevBtnEnabled, setPrevBtnEnabled] = useState(false);\r\n  const [nextBtnEnabled, setNextBtnEnabled] = useState(false);\r\n\r\n  const defaultScrollState = true;\r\n  const [scrolling,setScrollState] = useState(defaultScrollState);\r\n  const scrollingRef = useRef(defaultScrollState);\r\n\r\n  const[modalVideoUrl,setModalUrl] = useState(\"\");\r\n\r\n  let scrollingForward = true;\r\n  let interval = undefined;\r\n  const IntervalDuration = SwapDuration*1000;\r\n\r\n  const [videoModalOpen,showVideoModal] = useState(false);\r\n  \r\n  const scrollPrev = useCallback(() => embla && embla.scrollPrev(), [embla]);\r\n  const scrollNext = useCallback(() => embla && embla.scrollNext(), [embla]);\r\n  \r\n  const onSelect = useCallback(() => {\r\n    if (!embla) return;\r\n    setPrevBtnEnabled(embla.canScrollPrev());\r\n    setNextBtnEnabled(embla.canScrollNext());\r\n  }, [embla]);\r\n\r\n\r\n  const ShowVideo = (videoID)=>{\r\n      setModalUrl(videoID);\r\n      setScrollState(false);\r\n      showVideoModal(prev=>!prev);\r\n  }\r\n\r\n  const setModalVisibility = (isOpen)=>{\r\n    showVideoModal(isOpen);\r\n    setScrollState(prev=>!prev);\r\n  }\r\n\r\n  useEffect(()=>{\r\n      scrollingRef.current = scrolling;\r\n  });\r\n  \r\n  useEffect(() => {\r\n    if (!embla) return;\r\n\r\n    embla.on(\"select\", onSelect);\r\n    onSelect();\r\n    if(interval == undefined){\r\n        startInterval();\r\n        setScrollState(true);\r\n    }\r\n    \r\n  }, [embla, onSelect]);\r\n\r\n    const startInterval = ()=>{\r\n        interval = setInterval(()=>{\r\n\r\n            if(scrollingRef.current == true){\r\n                if( scrollingForward == true){\r\n\r\n                    if(embla.canScrollNext())\r\n                        scrollNext();\r\n                    else{\r\n                        scrollingForward = false;\r\n                        scrollPrev();\r\n                    }\r\n                }\r\n                else{\r\n                    if(embla.canScrollPrev())\r\n                        scrollPrev();\r\n                    else{\r\n                        scrollingForward = true;\r\n                        scrollNext();\r\n                    }\r\n                }\r\n            }\r\n        },IntervalDuration);\r\n    };\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n\r\n        <div className=\"embla\">\r\n        <div className=\"embla__viewport\" ref={viewportRef}>\r\n            <div className=\"embla__container\">\r\n            {slides.map((index) => \r\n            (<div className=\"embla__slide\" key={index}>\r\n                <div className=\"embla__slide__inner\">\r\n                    \r\n                <div className=\"video__carousel_slot\" onClick={()=>{ShowVideo(videoIndex(index).id);}}>\r\n                    <img src={videoThumbnail(videoIndex(index).id)}/>\r\n                    <p className=\"carousel_item_name\">{videoIndex(index).name}</p>\r\n                    <PlayButton/>\r\n                </div>\r\n\r\n                </div>\r\n                </div>\r\n            )\r\n            )}\r\n            </div>\r\n        </div>\r\n        <PrevButton onClick={scrollPrev} enabled={prevBtnEnabled} />\r\n            <NextButton onClick={scrollNext} enabled={nextBtnEnabled} />\r\n        </div>\r\n\r\n        <VideoModal showModal={videoModalOpen} setShowModal={setModalVisibility} videoID={modalVideoUrl} />\r\n\t\t</div>\r\n        \r\n  );\r\n};\r\n\r\nexport default EmblaCarousel;"]},"metadata":{},"sourceType":"module"}